RewriteEngine On

# Redireccionar a login si se accede a la raíz
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_URI} ^/$
RewriteRule ^$ login.php [L]

# Proteger archivos sensibles (Apache 2.4)
<FilesMatch "^(config\.php|setup\.sql)$">
    Require all denied
</FilesMatch>

# Deshabilitar listado de directorios
Options -Indexes

# Seguridad (solo si mod_headers está activo)
<IfModule mod_headers.c>
    Header always set X-Frame-Options "SAMEORIGIN"
    Header set X-XSS-Protection "1; mode=block"
    Header set X-Content-Type-Options "nosniff"
</IfModule>
